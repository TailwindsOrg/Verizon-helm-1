apiVersion: v1
kind: Pod
metadata:
  name: {{ .Values.pod.name }}
  labels:
    app: {{ .Values.pod.name }}
  annotations:
        k8s.v1.cni.cncf.io/networks: {{ .Values.mac-vlan.name }}
  namespace: {{ .Values.mac-vlan.namespace }}
spec:
  containers:
    - name: agent1
      image: netrounds/test-agent-application
      args:
        - register-run
        - --config
        - /config/agent.conf
        - -A
        - --ssl-no-check
        - --ncc-host
        - 192.168.5.2
        - --account
        - verizon
        - --email
        - anand.shanmuganathan@one.verizon.com
        - --password
        - January123$
        - --name
        - TA_Cont6
      command:
            - /paa-test-agent-application/paa-test-agent-application
      env:
            - name: PATH
              value: /usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
      ports:
      securityContext:
        privileged: true
      volumeMounts:
        - name: test1
          mountPath: /config
        - name: test2
          mountPath: /var/run/netns
  volumes:
    - name: test1
      persistentVolumeClaim:
        claimName: test1
    - name: test2
      persistentVolumeClaim:
        claimName: test2


